<script>
  import { showConfigModal, showHistoryModal, configs, currentConfigId } from '../stores/appStore.js';
  
  let currentConfigName = 'é»˜è®¤é…ç½®';
  
  // Subscribe to config changes to update button text
  configs.subscribe(allConfigs => {
    currentConfigId.subscribe(id => {
      const config = allConfigs.find(c => c.id === id);
      if (config) {
        currentConfigName = config.name || 'é»˜è®¤é…ç½®';
      }
    });
  });
</script>

<header class="flex justify-between items-center p-5 mb-5 bg-white rounded-3xl shadow-lg">
  <div class="flex items-center gap-3">
    <span class="text-4xl">ğŸ“Š</span>
    <div>
      <h1 class="font-heading text-2xl text-gray-900 font-semibold m-0">æ™ºèƒ½å‘¨æŠ¥ç”Ÿæˆå·¥å…·</h1>
      <p class="text-sm text-gray-500 font-normal m-0">åŸºäº AI çš„æ™ºèƒ½å·¥ä½œå‘¨æŠ¥ç”ŸæˆåŠ©æ‰‹</p>
    </div>
  </div>
  <div class="flex items-center gap-2">
    <button 
      type="button" 
      class="flex items-center gap-2 px-4 py-2 bg-secondary text-white border-none rounded-3xl cursor-pointer text-sm font-medium transition-all duration-300 shadow-md hover:bg-accent hover:-translate-y-0.5 hover:shadow-lg"
      on:click={() => showHistoryModal.set(true)}
      title="å†å²è®°å½•"
    >
      <span>ğŸ“œ</span> å†å²
    </button>
    <button 
      type="button" 
      class="flex items-center gap-2 px-4 py-2 bg-primary text-white border-none rounded-3xl cursor-pointer text-sm font-medium transition-all duration-300 shadow-md hover:bg-sky-500 hover:-translate-y-0.5 hover:shadow-lg"
      on:click={() => showConfigModal.set(true)}
      title="æ‰“å¼€é…ç½®"
    >
      <span>âš™ï¸</span> é…ç½®ï¼š{currentConfigName}
    </button>
  </div>
</header>
